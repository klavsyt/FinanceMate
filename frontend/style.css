:root {
  --bg-main: #f8fafc;
  --bg-gradient: linear-gradient(120deg, #e0e7ff 0%, #f8fafc 100%);
  --text-main: #222;
  --card-bg: #fff;
  --shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
  --tab-bg: #fff;
  --tab-shadow: 0 2px 8px rgba(0, 0, 0, 0.04);
  --alert-info-bg: #e7f1ff;
  --alert-info-color: #0d6efd;
}

body[data-theme="dark"] {
  --bg-main: #181a1b;
  --bg-gradient: linear-gradient(120deg, #23272f 0%, #181a1b 100%);
  --text-main: #f3f3f3;
  --card-bg: #23272f;
  --shadow: 0 2px 16px rgba(0, 0, 0, 0.7);
  --tab-bg: #23272f;
  --tab-shadow: 0 2px 8px rgba(0, 0, 0, 0.7);
  --alert-info-bg: #232e3a;
  --alert-info-color: #90caf9;
  --border-color: #333a44;
  --input-bg: #23272f;
  --input-border: #444b5a;
  --input-color: #f3f3f3;
  --table-bg: #23272f;
  --table-header-bg: #232e3a;
  --table-row-hover: #232e3a;
  --btn-bg: #232e3a;
  --btn-border: #444b5a;
  --btn-color: #f3f3f3;
}

body {
  background: var(--bg-gradient);
  color: var(--text-main);
  min-height: 100vh;
  transition: background 0.3s, color 0.3s;
}
#auth-section,
#main-section {
  background: var(--card-bg);
  box-shadow: var(--shadow);
}
.card {
  background: var(--card-bg);
  border-radius: 18px;
  box-shadow: var(--shadow);
}
.tab-content {
  background: var(--tab-bg);
  box-shadow: var(--tab-shadow);
  min-height: 300px;
}
.nav-tabs .nav-link {
  font-size: 1.1rem;
  font-weight: 500;
}
.nav-tabs .nav-link i {
  margin-right: 0.3em;
}
.btn-outline-danger i {
  margin-right: 0.3em;
}
.list-group-item {
  border-radius: 8px;
  margin-bottom: 0.5em;
  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.03);
}
.alert-info {
  background: var(--alert-info-bg);
  color: var(--alert-info-color);
  border: none;
}
body[data-theme="dark"] .card,
body[data-theme="dark"] #auth-section,
body[data-theme="dark"] #main-section,
body[data-theme="dark"] .tab-content {
  background: #20232a !important;
  color: #f3f3f3 !important;
  box-shadow: var(--shadow) !important;
  border: 1px solid #333a44;
  transition: background 0.2s, color 0.2s;
}
body[data-theme="dark"] .table {
  background: #23272f !important;
  color: #f3f3f3 !important;
  border-color: #333a44 !important;
}
body[data-theme="dark"] .table th,
body[data-theme="dark"] .table td {
  background: #23272f !important;
  color: #f3f3f3 !important;
  border-color: #333a44 !important;
}
body[data-theme="dark"] .table thead th {
  background: #232e3a !important;
  color: #90caf9 !important;
  border-bottom: 2px solid #444b5a !important;
}
body[data-theme="dark"] .table-hover tbody tr:hover {
  background: #293040 !important;
  color: #fff !important;
}
body[data-theme="dark"] .form-control,
body[data-theme="dark"] .form-select {
  background: #232e3a !important;
  color: #f3f3f3 !important;
  border: 1px solid #444b5a !important;
  transition: background 0.2s, color 0.2s, border 0.2s;
}
body[data-theme="dark"] .form-control:focus,
body[data-theme="dark"] .form-select:focus {
  background: #232e3a !important;
  color: #fff !important;
  border-color: #90caf9 !important;
  box-shadow: 0 0 0 0.2rem rgba(144, 202, 249, 0.15);
}
body[data-theme="dark"] .btn,
body[data-theme="dark"] .btn-primary,
body[data-theme="dark"] .btn-success,
body[data-theme="dark"] .btn-danger,
body[data-theme="dark"] .btn-outline-danger {
  background: var(--btn-bg) !important;
  color: var(--btn-color) !important;
  border: 1px solid var(--btn-border) !important;
}
body[data-theme="dark"] .btn-primary {
  background: #1976d2 !important;
  border-color: #1976d2 !important;
  color: #fff !important;
}
body[data-theme="dark"] .btn-success {
  background: #43a047 !important;
  border-color: #43a047 !important;
  color: #fff !important;
}
body[data-theme="dark"] .btn-danger,
body[data-theme="dark"] .btn-outline-danger {
  background: #c62828 !important;
  border-color: #c62828 !important;
  color: #fff !important;
}
body[data-theme="dark"] .btn-outline-danger {
  color: #ffb4b4 !important;
}
body[data-theme="dark"] .modal-content {
  background: #23272f !important;
  color: #f3f3f3 !important;
  border: 1px solid #333a44;
  transition: background 0.2s, color 0.2s;
}
body[data-theme="dark"] .nav-tabs .nav-link {
  background: #23272f !important;
  color: #90caf9 !important;
  border: 1px solid #333a44 !important;
  transition: background 0.2s, color 0.2s;
}
body[data-theme="dark"] .nav-tabs .nav-link.active {
  background: #232e3a !important;
  color: #fff !important;
  border-bottom: 2px solid #90caf9 !important;
}
body[data-theme="dark"] .alert-info {
  background: #232e3a !important;
  color: #90caf9 !important;
}
body[data-theme="dark"] .alert-danger {
  background: #2d1a1a !important;
  color: #ffb4b4 !important;
  border: 1px solid #c62828;
}
body[data-theme="dark"] .alert-warning {
  background: #2d261a !important;
  color: #ffe082 !important;
  border: 1px solid #ffb300;
}
body[data-theme="dark"] .dropdown-menu {
  background: #23272f !important;
  color: #f3f3f3 !important;
}
body[data-theme="dark"] .dropdown-item:hover {
  background: #293040 !important;
  color: #90caf9 !important;
}
body[data-theme="dark"] .navbar {
  background: #232e3a !important;
}
body[data-theme="dark"] .navbar .navbar-brand,
body[data-theme="dark"] .navbar .navbar-text {
  color: #90caf9 !important;
}
body[data-theme="dark"] #toast-container .toast {
  background: #232e3a !important;
  color: #fff !important;
  border: 1px solid #444b5a;
}
.fade-in-row {
  animation: fadeInRow 0.7s;
}
@keyframes fadeInRow {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: none;
  }
}
.alert-info.text-center {
  background: var(--alert-info-bg);
  color: var(--alert-info-color);
  border: none;
}
.collapse {
  transition: height 0.3s ease;
}
.is-invalid {
  border-color: #dc3545 !important;
  box-shadow: 0 0 0 0.2rem rgba(220, 53, 69, 0.15);
}
.invalid-feedback {
  color: #dc3545;
  font-size: 0.92em;
  margin-top: 0.2em;
}
@media (max-width: 900px) {
  .tab-content {
    padding: 0.5rem !important;
  }
  .table-responsive {
    font-size: 0.92em;
    overflow-x: auto;
  }
  .d-flex.gap-2.flex-wrap {
    flex-direction: column !important;
    gap: 0.5rem !important;
  }
  .form-select,
  .form-control {
    min-width: 0 !important;
    width: 100% !important;
  }
  .btn {
    width: 100%;
    margin-bottom: 0.5rem;
  }
}
@media (max-width: 600px) {
  .tab-content {
    padding: 0.2rem !important;
  }
  .navbar .container-fluid {
    flex-direction: column;
    align-items: flex-start;
  }
  .table-responsive {
    font-size: 0.88em;
    overflow-x: auto;
  }
  #main-section,
  #auth-section {
    padding: 0.2rem !important;
    max-width: 100vw;
  }
  .card {
    padding: 0.2rem !important;
  }
  .d-flex.gap-2.flex-wrap {
    flex-direction: column !important;
    gap: 0.3rem !important;
  }
  .btn {
    width: 100%;
    margin-bottom: 0.3rem;
  }
}
